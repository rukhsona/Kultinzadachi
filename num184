// Телеграф - передача сообщений при помощи азбуки Морзе 
#include "stdio.h" 
#include "conio.h" 
#include "string.h" // strlen 
#include "dos.h" // delay 
// параметры передачи 
#define TONE 100 // частота сигнала (гц) 
#define LI 50 // длительность (мс) "точки" 
#define L2 100 // длительность (мс) "тире" 
#define L3 50 // пауза (мс) между точками и тире одной 
// буквы 
#define L4 100 // пауза (мс) между буквами 
#define L5 150 // пауза (мс) между словами 
void main О 
{ 
// кодировка букв русского алфавита 
char *morse[] = { 
I» __ I» if_ II II II II II / /7\ •n n T 
fl tl II 
и п _«„^1 1 
и П_ „ II 
II II II 
II II II 
II II _| | 
II II _ II 
» _" 
'_ — " 
1 II 
•_ " 
|__ _ II 
| _ ^1 1 
1 II 
II II 
II _ II 
II __ II 
• • / 
II __ II 
II II 
f 
М _ II 
/ II _ _1 | 
// Д,Е,Ж,3 
// И,Й,К,Л 
// м,н,о,п 
// Р,С,Т,У 
// Ф,Х,Ц,Ч 
// ш,щ,ъ,ы 
// ь,э,ю,я 
}; 
lansigned char mes[80]; // сообщение 
char sim[4]; // символ в кодировке Морзе -
// последовательность точек и тире 
char znak; // "передаваемый" знак - тире или точка 
int i,j; // номер символа и знака 
puts("\n*** Телеграф ***") ; 
puts("Введите сообщение, которое надо передать"); 
puts("(используйте только заглавные русские буквы)"); 
printf("->"); 
gets(mes); 
f o r (i = 0; i < strlen(mes); i++) 
{ 
i f (mes[i] >= 'A* &&mes[i] <='ЯМ 
{ 
/ / опр>еделим код очередной буквы (ф-я Ord) сообщения 
/ / и получим из таблицы кодировки соответствующий 
/ / элемент массива - последовательность точек и тире 
strcpy(Sim, morse[mes[i]-128]); 
j = 0; 
do 
i f (sim[j] == '- ' 11 sim[j] == '.' ) 
{ 
putch(sim[j++]); 
sound(1000); 
if (sim[j] == '.M 
delay(LI); 
else delay(L2); 
nosound; 
delay(L3); 
}
while ( sim[j] !=»'& & j <4 ) ; 
delay(L4); // пауза между буквами 
} 
else 
if (mes[i] == ' ») // пробел между словами 
{ 
printf(" ") ; // пробел между словами сообщения 
delay(L5); 
} 
} 
puts("ХпСообщение передано!"); 
puts("Для завершения работы нажмите <Enter>"); 
getch(); 
}
